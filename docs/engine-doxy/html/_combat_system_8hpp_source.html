<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>The Dungeon Throne: systems/CombatSystem.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The Dungeon Throne
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A Modifiable 3D Dungeon Management Game</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_combat_system_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CombatSystem.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;bitset&gt;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;map&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;queue&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;tools/Util.hpp&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;tools/RayCaster.hpp&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;System.hpp&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;Components.hpp&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;EntitySystem.hpp&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">class </span><a class="code" href="class_grid_system.html">GridSystem</a>;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">using</span> ALL_COMPONENTS = std::bitset&lt;Component::count&gt;;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno"><a class="line" href="class_combat_system.html">   28</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_combat_system.html">CombatSystem</a> : <span class="keyword">public</span> <a class="code" href="class_system.html">System</a></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="class_combat_system.html#ad7d0ab805abdae93ccaa9d09f9d40153">CombatSystem</a>(<a class="code" href="class_entity_system.html">EntitySystem</a>&amp;, Ogre::SceneManager&amp;, <a class="code" href="class_grid_system.html">GridSystem</a>&amp;);</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="class_combat_system.html#ae95bc02a8ac9237e5dca11f56ecefe9e">~CombatSystem</a>() = <span class="keywordflow">default</span>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a2c284a065f150a9fb67dae0f1229db37">update</a>(tdt::real) <span class="keyword">override</span>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_combat_system.html#a9e4c1c2747bd800a6766a59f633c7177">in_sight</a>(tdt::uint, tdt::uint) <span class="keyword">const</span>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_combat_system.html#ad573eb3a0e7751ffc5a6be31f6443c9f">in_sight_wrt_BB</a>(tdt::uint, tdt::uint) <span class="keyword">const</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#acc161d46979586d368d28a7ee92b79e8">get_closest_entity</a>(tdt::uint, <span class="keywordtype">bool</span> = <span class="keyword">true</span>, <span class="keywordtype">bool</span> = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#afdb21b7f8f95c609e4c00ae6206ac942">get_closest_structure</a>(tdt::uint, <span class="keywordtype">bool</span> = <span class="keyword">true</span>, <span class="keywordtype">bool</span> = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#a1a2d9e90b900331d004d10e2d6e39329">get_closest_entity_thats_not</a>(tdt::uint, tdt::uint, <span class="keywordtype">bool</span> = <span class="keyword">true</span>, <span class="keywordtype">bool</span> = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#a6776c78cfda064865b66b60f1a0bd6e1">get_closest_gold_deposit</a>(tdt::uint, <span class="keywordtype">bool</span> = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#a9b467406db2dae24848078435a78c95c">get_closest_gold_vault</a>(tdt::uint, <span class="keywordtype">bool</span> = <span class="keyword">false</span>, <span class="keywordtype">bool</span> = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CONT, <span class="keyword">typename</span> COND&gt;</div><div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="class_combat_system.html#a94734d18facf7af7172fca0d22dcad49">  128</a></span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#a94734d18facf7af7172fca0d22dcad49">get_closest_entity</a>(tdt::uint <span class="keywordtype">id</span>, COND&amp; condition, <span class="keywordtype">bool</span> only_sight = <span class="keyword">true</span>)<span class="keyword"> const</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keyword">auto</span> phys_comp = <a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>.<a class="code" href="class_entity_system.html#ad9610ae9a595fc16e8f545cf752ee4f0">get_component</a>&lt;<a class="code" href="struct_physics_component.html">PhysicsComponent</a>&gt;(id);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            tdt::uint closest_id = Component::NO_ENTITY;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            tdt::real min_distance = std::numeric_limits&lt;tdt::real&gt;::max();</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">if</span>(phys_comp)</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; ent : get_container&lt;CONT&gt;())</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">if</span>(ent.first == <span class="keywordtype">id</span> || !condition(ent.first))</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    <span class="keyword">auto</span> enemy_phys_comp = <a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>.<a class="code" href="class_entity_system.html#ad9610ae9a595fc16e8f545cf752ee4f0">get_component</a>&lt;<a class="code" href="struct_physics_component.html">PhysicsComponent</a>&gt;(ent.first);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <span class="keywordflow">if</span>(enemy_phys_comp)</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        <span class="keyword">auto</span> dist = phys_comp-&gt;position.squaredDistance(enemy_phys_comp-&gt;position);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        <span class="keywordflow">if</span>(enemy_phys_comp &amp;&amp; dist &lt; min_distance &amp;&amp; (!only_sight || <a class="code" href="class_combat_system.html#a9e4c1c2747bd800a6766a59f633c7177">in_sight</a>(<span class="keywordtype">id</span>, ent.first))</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                           &amp;&amp; <a class="code" href="namespaceutil.html#a1d8b1dc5bfaf22eb62b03173a6ff9b56">util::pathfind</a>(<a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>, <span class="keywordtype">id</span>, ent.first, <a class="code" href="structutil_1_1heuristic_1_1_p_o_r_t_a_l___h_e_u_r_i_s_t_i_c.html">util::DEFAULT_HEURISTIC</a>{entities_}, <span class="keyword">false</span>))</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                        {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                            min_distance = dist;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                            closest_id = ent.first;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                        }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">return</span> closest_id;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> CONT, <span class="keyword">typename</span> COND, <span class="keyword">typename</span> EFFECT&gt;</div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="class_combat_system.html#a7003f0a13c90284528508282c6ac81f9">  170</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a7003f0a13c90284528508282c6ac81f9">apply_effect_to_entities_in_range</a>(tdt::uint <span class="keywordtype">id</span>, COND&amp; condition, EFFECT&amp; effect, tdt::real range)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keyword">auto</span> comp = <a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>.<a class="code" href="class_entity_system.html#ad9610ae9a595fc16e8f545cf752ee4f0">get_component</a>&lt;<a class="code" href="struct_physics_component.html">PhysicsComponent</a>&gt;(id);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">if</span>(comp)</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                Ogre::Vector2 pos{comp-&gt;position.x, comp-&gt;position.z};</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <span class="keywordflow">for</span>(<span class="keyword">auto</span>&amp; ent : get_container&lt;CONT&gt;())</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    <span class="keywordflow">if</span>(condition(ent.first) &amp;&amp;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                       pos.distance(<a class="code" href="namespace_physics_helper.html#a54090fc8781d4df5a587c14aba933461">PhysicsHelper::get_2d_position</a>(<a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>, ent.first)) &lt; range)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                    { <span class="comment">// Sqrt used in distance calculation should not be a bottleneck here.</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        effect(ent.first);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a1ea784797f890c7aebeff257624bbea6">apply_heal_to_entities_in_range</a>(tdt::uint, tdt::real);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a31038240f549621d2ec192b0942e29c5">apply_damage_to_entities_in_range</a>(tdt::uint, tdt::real, tdt::uint, tdt::uint);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#ae64eaa3c5a01037a6b1ea9db3bb93747">apply_slow_to_entities_in_range</a>(tdt::uint, tdt::real, tdt::real);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a3cd665daca2c1c49ca0788d97f5d2c8f">apply_freeze_to_entities_in_range</a>(tdt::uint, tdt::real, tdt::real);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a99deeb9898f08379e2ff0e1471428a1f">apply_slow_to</a>(tdt::uint, tdt::real);</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a67c67143f6d96a5f0947627b7c355dfe">apply_freeze_to</a>(tdt::uint, tdt::real);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#aa1dcd9b7fa26a536bfee3cb7a2b90d3a">run_away_from</a>(tdt::uint, tdt::uint, tdt::uint);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a3345cf86852bee674fdd61b8c82001c7">set_max_run_away_attempts</a>(tdt::uint);</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#a6144440bbf7eeced81444326e42e6645">get_max_run_away_attempts</a>();</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="class_combat_system.html#a9ec58d96936e66225997d9d7df7717d0">enemy_in_range</a>(tdt::uint);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> COMP&gt;</div><div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="class_combat_system.html#a009e7e33b36a38e037662cc662b57774">  269</a></span>&#160;        <span class="keyword">const</span> std::map&lt;tdt::uint, COMP&gt;&amp; <a class="code" href="class_combat_system.html#a009e7e33b36a38e037662cc662b57774">get_container</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="keyword">        </span>{</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>.<a class="code" href="class_entity_system.html#ab2bacfe1a7fa117764850f60ead892df">get_component_container</a>&lt;COMP&gt;();</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a57555ff5cfbf11cabf4dc558c64e265a">create_homing_projectile</a>(tdt::uint, <a class="code" href="struct_combat_component.html">CombatComponent</a>&amp;);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="class_combat_system.html#a77244dfa4506f9f88f43cb4a3f938098">run_away_from_</a>(tdt::uint, tdt::uint, tdt::uint);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno"><a class="line" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">  296</a></span>&#160;        <a class="code" href="class_entity_system.html">EntitySystem</a>&amp; <a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="class_combat_system.html#a03b947e997e7138738daf26f48eac7dd">  301</a></span>&#160;        Ogre::RaySceneQuery&amp; <a class="code" href="class_combat_system.html#a03b947e997e7138738daf26f48eac7dd">ray_query_</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="class_combat_system.html#a90e8e6bb234cb358f676101f8da2daaf">  306</a></span>&#160;        <a class="code" href="class_grid_system.html">GridSystem</a>&amp; <a class="code" href="class_combat_system.html#a90e8e6bb234cb358f676101f8da2daaf">grid_</a>;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="class_combat_system.html#aefac99884a4c7fa895f09dd484a3bd15">  311</a></span>&#160;        <a class="code" href="class_ray_caster.html">RayCaster</a> <a class="code" href="class_combat_system.html#aefac99884a4c7fa895f09dd484a3bd15">ray_caster_</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00316"></a><span class="lineno"><a class="line" href="class_combat_system.html#a1b68f04d3aee2673466cc57701d8e2e1">  316</a></span>&#160;        tdt::uint <a class="code" href="class_combat_system.html#a1b68f04d3aee2673466cc57701d8e2e1">max_run_away_attempts_</a>{10};</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno"><a class="line" href="class_combat_system.html#aafe37a8f7fa29174c136c747a3d7ee54">  323</a></span>&#160;        std::queue&lt;std::tuple&lt;tdt::uint, tdt::uint, tdt::uint&gt;&gt; <a class="code" href="class_combat_system.html#aafe37a8f7fa29174c136c747a3d7ee54">run_away_queue_</a>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;};</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="keyword">template</span>&lt;&gt;</div><div class="line"><a name="l00331"></a><span class="lineno"><a class="line" href="class_combat_system.html#a6e001848f89439467e08c8d1fcd10e2b">  331</a></span>&#160;<span class="keyword">inline</span> <span class="keyword">const</span> std::map&lt;tdt::uint, ALL_COMPONENTS&gt;&amp; <a class="code" href="class_combat_system.html#a009e7e33b36a38e037662cc662b57774">CombatSystem::get_container</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">entities_</a>.<a class="code" href="class_entity_system.html#aaa1035152c890ca73f47d300d6377498">get_component_list</a>();</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="ttc" id="class_grid_system_html"><div class="ttname"><a href="class_grid_system.html">GridSystem</a></div><div class="ttdoc">Represents the pathfinding graph used by the game and provides several methods related to pathfinding...</div><div class="ttdef"><b>Definition:</b> <a href="_grid_system_8hpp_source.html#l00011">GridSystem.hpp:11</a></div></div>
<div class="ttc" id="class_entity_system_html"><div class="ttname"><a href="class_entity_system.html">EntitySystem</a></div><div class="ttdoc">The EntitySystem class handles everything related to entities, like addition and removal of component...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_system_8hpp_source.html#l00021">EntitySystem.hpp:21</a></div></div>
<div class="ttc" id="class_combat_system_html_a99deeb9898f08379e2ff0e1471428a1f"><div class="ttname"><a href="class_combat_system.html#a99deeb9898f08379e2ff0e1471428a1f">CombatSystem::apply_slow_to</a></div><div class="ttdeci">void apply_slow_to(tdt::uint, tdt::real)</div><div class="ttdoc">Slows a given entity for a given time period. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00289">CombatSystem.cpp:289</a></div></div>
<div class="ttc" id="struct_physics_component_html"><div class="ttname"><a href="struct_physics_component.html">PhysicsComponent</a></div><div class="ttdoc">Components. </div><div class="ttdef"><b>Definition:</b> <a href="_components_8hpp_source.html#l00034">Components.hpp:34</a></div></div>
<div class="ttc" id="class_combat_system_html_a3cd665daca2c1c49ca0788d97f5d2c8f"><div class="ttname"><a href="class_combat_system.html#a3cd665daca2c1c49ca0788d97f5d2c8f">CombatSystem::apply_freeze_to_entities_in_range</a></div><div class="ttdeci">void apply_freeze_to_entities_in_range(tdt::uint, tdt::real, tdt::real)</div><div class="ttdoc">Freezes all enemy entities within a given range from a given entity for a given time period...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00282">CombatSystem.cpp:282</a></div></div>
<div class="ttc" id="class_combat_system_html_a9e4c1c2747bd800a6766a59f633c7177"><div class="ttname"><a href="class_combat_system.html#a9e4c1c2747bd800a6766a59f633c7177">CombatSystem::in_sight</a></div><div class="ttdeci">bool in_sight(tdt::uint, tdt::uint) const </div><div class="ttdoc">Returns true if two given entities can see each other, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00157">CombatSystem.cpp:157</a></div></div>
<div class="ttc" id="class_combat_system_html_a6776c78cfda064865b66b60f1a0bd6e1"><div class="ttname"><a href="class_combat_system.html#a6776c78cfda064865b66b60f1a0bd6e1">CombatSystem::get_closest_gold_deposit</a></div><div class="ttdeci">tdt::uint get_closest_gold_deposit(tdt::uint, bool=false) const </div><div class="ttdoc">Returns the ID of the closest gold deposit (entity with both structure and gold components). </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00238">CombatSystem.cpp:238</a></div></div>
<div class="ttc" id="class_entity_system_html_ab2bacfe1a7fa117764850f60ead892df"><div class="ttname"><a href="class_entity_system.html#ab2bacfe1a7fa117764850f60ead892df">EntitySystem::get_component_container</a></div><div class="ttdeci">std::map&lt; tdt::uint, COMP &gt; &amp; get_component_container()</div><div class="ttdoc">Returns the map associated with the component specified by the template argument. ...</div></div>
<div class="ttc" id="class_combat_system_html_acc161d46979586d368d28a7ee92b79e8"><div class="ttname"><a href="class_combat_system.html#acc161d46979586d368d28a7ee92b79e8">CombatSystem::get_closest_entity</a></div><div class="ttdeci">tdt::uint get_closest_entity(tdt::uint, bool=true, bool=false) const </div><div class="ttdoc">Returns the ID of the closest entity (from a given entity&amp;#39;s position), Component::NO_ENTITY otherwise...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00208">CombatSystem.cpp:208</a></div></div>
<div class="ttc" id="class_combat_system_html_ae95bc02a8ac9237e5dca11f56ecefe9e"><div class="ttname"><a href="class_combat_system.html#ae95bc02a8ac9237e5dca11f56ecefe9e">CombatSystem::~CombatSystem</a></div><div class="ttdeci">~CombatSystem()=default</div><div class="ttdoc">Destructor. </div></div>
<div class="ttc" id="class_combat_system_html_a6144440bbf7eeced81444326e42e6645"><div class="ttname"><a href="class_combat_system.html#a6144440bbf7eeced81444326e42e6645">CombatSystem::get_max_run_away_attempts</a></div><div class="ttdeci">tdt::uint get_max_run_away_attempts()</div><div class="ttdoc">Returns the maximum amount of pathfinding attempts for running away. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00351">CombatSystem.cpp:351</a></div></div>
<div class="ttc" id="class_combat_system_html_a801a051bdd230885b786fcc7b2dad9af"><div class="ttname"><a href="class_combat_system.html#a801a051bdd230885b786fcc7b2dad9af">CombatSystem::entities_</a></div><div class="ttdeci">EntitySystem &amp; entities_</div><div class="ttdoc">Reference to the game&amp;#39;s entity system (component retrieval). </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00296">CombatSystem.hpp:296</a></div></div>
<div class="ttc" id="class_combat_system_html_ae64eaa3c5a01037a6b1ea9db3bb93747"><div class="ttname"><a href="class_combat_system.html#ae64eaa3c5a01037a6b1ea9db3bb93747">CombatSystem::apply_slow_to_entities_in_range</a></div><div class="ttdeci">void apply_slow_to_entities_in_range(tdt::uint, tdt::real, tdt::real)</div><div class="ttdoc">Slows all enemy entities within a given range from a given entity for a given time period...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00275">CombatSystem.cpp:275</a></div></div>
<div class="ttc" id="namespaceutil_html_a1d8b1dc5bfaf22eb62b03173a6ff9b56"><div class="ttname"><a href="namespaceutil.html#a1d8b1dc5bfaf22eb62b03173a6ff9b56">util::pathfind</a></div><div class="ttdeci">bool pathfind(EntitySystem &amp;ents, tdt::uint id, tdt::uint target, util::heuristic::HEURISTIC &amp;heuristic, bool add_path=true, bool allow_destruction=true)</div><div class="ttdoc">Finds a path using a given algorithm (specified as a template parameter) and heuristic and adds the p...</div><div class="ttdef"><b>Definition:</b> <a href="_pathfinding_8hpp_source.html#l00026">Pathfinding.hpp:26</a></div></div>
<div class="ttc" id="class_combat_system_html_afdb21b7f8f95c609e4c00ae6206ac942"><div class="ttname"><a href="class_combat_system.html#afdb21b7f8f95c609e4c00ae6206ac942">CombatSystem::get_closest_structure</a></div><div class="ttdeci">tdt::uint get_closest_structure(tdt::uint, bool=true, bool=false) const </div><div class="ttdoc">Returns the ID of the closest structure (from a given entity&amp;#39;s position), Component::NO_ENTITY otherw...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00216">CombatSystem.cpp:216</a></div></div>
<div class="ttc" id="class_combat_system_html"><div class="ttname"><a href="class_combat_system.html">CombatSystem</a></div><div class="ttdoc">Manages auto attack melee and ranged combat, special melee and ranged attacks will be both handled by...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00028">CombatSystem.hpp:28</a></div></div>
<div class="ttc" id="class_combat_system_html_a009e7e33b36a38e037662cc662b57774"><div class="ttname"><a href="class_combat_system.html#a009e7e33b36a38e037662cc662b57774">CombatSystem::get_container</a></div><div class="ttdeci">const std::map&lt; tdt::uint, COMP &gt; &amp; get_container() const </div><div class="ttdoc">Retuns a map containing pairs of IDs and components of a given type, use the type ALL_COMPONENTS to g...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00269">CombatSystem.hpp:269</a></div></div>
<div class="ttc" id="class_combat_system_html_ad573eb3a0e7751ffc5a6be31f6443c9f"><div class="ttname"><a href="class_combat_system.html#ad573eb3a0e7751ffc5a6be31f6443c9f">CombatSystem::in_sight_wrt_BB</a></div><div class="ttdeci">bool in_sight_wrt_BB(tdt::uint, tdt::uint) const </div><div class="ttdoc">Returns true if two given entities can see each other, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00181">CombatSystem.cpp:181</a></div></div>
<div class="ttc" id="class_combat_system_html_aafe37a8f7fa29174c136c747a3d7ee54"><div class="ttname"><a href="class_combat_system.html#aafe37a8f7fa29174c136c747a3d7ee54">CombatSystem::run_away_queue_</a></div><div class="ttdeci">std::queue&lt; std::tuple&lt; tdt::uint, tdt::uint, tdt::uint &gt; &gt; run_away_queue_</div><div class="ttdoc">Used to distribute run away pathfindings over frames (otherwise something like a meteor falling on a ...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00323">CombatSystem.hpp:323</a></div></div>
<div class="ttc" id="class_combat_system_html_a31038240f549621d2ec192b0942e29c5"><div class="ttname"><a href="class_combat_system.html#a31038240f549621d2ec192b0942e29c5">CombatSystem::apply_damage_to_entities_in_range</a></div><div class="ttdeci">void apply_damage_to_entities_in_range(tdt::uint, tdt::real, tdt::uint, tdt::uint)</div><div class="ttdoc">Damages all friendly entities within a given range from a given entity. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00268">CombatSystem.cpp:268</a></div></div>
<div class="ttc" id="class_combat_system_html_ad7d0ab805abdae93ccaa9d09f9d40153"><div class="ttname"><a href="class_combat_system.html#ad7d0ab805abdae93ccaa9d09f9d40153">CombatSystem::CombatSystem</a></div><div class="ttdeci">CombatSystem(EntitySystem &amp;, Ogre::SceneManager &amp;, GridSystem &amp;)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00011">CombatSystem.cpp:11</a></div></div>
<div class="ttc" id="class_combat_system_html_a1b68f04d3aee2673466cc57701d8e2e1"><div class="ttname"><a href="class_combat_system.html#a1b68f04d3aee2673466cc57701d8e2e1">CombatSystem::max_run_away_attempts_</a></div><div class="ttdeci">tdt::uint max_run_away_attempts_</div><div class="ttdoc">Maximum amount of pathfindings performed when running away from an enemy. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00316">CombatSystem.hpp:316</a></div></div>
<div class="ttc" id="class_combat_system_html_a1ea784797f890c7aebeff257624bbea6"><div class="ttname"><a href="class_combat_system.html#a1ea784797f890c7aebeff257624bbea6">CombatSystem::apply_heal_to_entities_in_range</a></div><div class="ttdeci">void apply_heal_to_entities_in_range(tdt::uint, tdt::real)</div><div class="ttdoc">Heals all friendly entities within a given range from a given entity. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00261">CombatSystem.cpp:261</a></div></div>
<div class="ttc" id="namespace_physics_helper_html_a54090fc8781d4df5a587c14aba933461"><div class="ttname"><a href="namespace_physics_helper.html#a54090fc8781d4df5a587c14aba933461">PhysicsHelper::get_2d_position</a></div><div class="ttdeci">Ogre::Vector2 get_2d_position(EntitySystem &amp;, tdt::uint)</div><div class="ttdoc">Returns the X and Z coordinates of a given entity&amp;#39;s position. </div><div class="ttdef"><b>Definition:</b> <a href="_physics_helper_8cpp_source.html#l00108">PhysicsHelper.cpp:108</a></div></div>
<div class="ttc" id="class_combat_system_html_a90e8e6bb234cb358f676101f8da2daaf"><div class="ttname"><a href="class_combat_system.html#a90e8e6bb234cb358f676101f8da2daaf">CombatSystem::grid_</a></div><div class="ttdeci">GridSystem &amp; grid_</div><div class="ttdoc">Used to check if an entity is accessible. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00306">CombatSystem.hpp:306</a></div></div>
<div class="ttc" id="struct_combat_component_html"><div class="ttname"><a href="struct_combat_component.html">CombatComponent</a></div><div class="ttdoc">Holds info about an entity&amp;#39;s attack types and damage. </div><div class="ttdef"><b>Definition:</b> <a href="_components_8hpp_source.html#l00152">Components.hpp:152</a></div></div>
<div class="ttc" id="class_entity_system_html_aaa1035152c890ca73f47d300d6377498"><div class="ttname"><a href="class_entity_system.html#aaa1035152c890ca73f47d300d6377498">EntitySystem::get_component_list</a></div><div class="ttdeci">const std::map&lt; tdt::uint, std::bitset&lt; Component::count &gt; &gt; &amp; get_component_list() const </div><div class="ttdoc">Breif: Returns const reference to the component list, so that it can be used to iterate over all enti...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_system_8cpp_source.html#l00149">EntitySystem.cpp:149</a></div></div>
<div class="ttc" id="structutil_1_1heuristic_1_1_p_o_r_t_a_l___h_e_u_r_i_s_t_i_c_html"><div class="ttname"><a href="structutil_1_1heuristic_1_1_p_o_r_t_a_l___h_e_u_r_i_s_t_i_c.html">util::heuristic::PORTAL_HEURISTIC</a></div><div class="ttdoc">Variation of the Manhattan distance heuristic that takes portals into accounts. </div><div class="ttdef"><b>Definition:</b> <a href="_pathfinding_algorithms_8hpp_source.html#l00267">PathfindingAlgorithms.hpp:267</a></div></div>
<div class="ttc" id="class_combat_system_html_a2c284a065f150a9fb67dae0f1229db37"><div class="ttname"><a href="class_combat_system.html#a2c284a065f150a9fb67dae0f1229db37">CombatSystem::update</a></div><div class="ttdeci">void update(tdt::real) override</div><div class="ttdoc">Updates all auto attack combat in the game currently in progress. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00019">CombatSystem.cpp:19</a></div></div>
<div class="ttc" id="class_combat_system_html_a57555ff5cfbf11cabf4dc558c64e265a"><div class="ttname"><a href="class_combat_system.html#a57555ff5cfbf11cabf4dc558c64e265a">CombatSystem::create_homing_projectile</a></div><div class="ttdeci">void create_homing_projectile(tdt::uint, CombatComponent &amp;)</div><div class="ttdoc">Creates a new homing projectile at the position of a given entity homing at the entity&amp;#39;s current targ...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00387">CombatSystem.cpp:387</a></div></div>
<div class="ttc" id="class_combat_system_html_aefac99884a4c7fa895f09dd484a3bd15"><div class="ttname"><a href="class_combat_system.html#aefac99884a4c7fa895f09dd484a3bd15">CombatSystem::ray_caster_</a></div><div class="ttdeci">RayCaster ray_caster_</div><div class="ttdoc">Used for polygon precise line of sight checking. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00311">CombatSystem.hpp:311</a></div></div>
<div class="ttc" id="class_combat_system_html_aa1dcd9b7fa26a536bfee3cb7a2b90d3a"><div class="ttname"><a href="class_combat_system.html#aa1dcd9b7fa26a536bfee3cb7a2b90d3a">CombatSystem::run_away_from</a></div><div class="ttdeci">void run_away_from(tdt::uint, tdt::uint, tdt::uint)</div><div class="ttdoc">Tries to find a path used by an entity to run away from another entity. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00346">CombatSystem.cpp:346</a></div></div>
<div class="ttc" id="class_combat_system_html_a03b947e997e7138738daf26f48eac7dd"><div class="ttname"><a href="class_combat_system.html#a03b947e997e7138738daf26f48eac7dd">CombatSystem::ray_query_</a></div><div class="ttdeci">Ogre::RaySceneQuery &amp; ray_query_</div><div class="ttdoc">Reference to the ray cast used to check if two entities can see each other. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00301">CombatSystem.hpp:301</a></div></div>
<div class="ttc" id="class_entity_system_html_ad9610ae9a595fc16e8f545cf752ee4f0"><div class="ttname"><a href="class_entity_system.html#ad9610ae9a595fc16e8f545cf752ee4f0">EntitySystem::get_component</a></div><div class="ttdeci">COMP * get_component(tdt::uint id)</div><div class="ttdoc">Returns a bool-component pointer pair, in which the first bool member determines if the component was...</div><div class="ttdef"><b>Definition:</b> <a href="_entity_system_8hpp_source.html#l00100">EntitySystem.hpp:100</a></div></div>
<div class="ttc" id="class_combat_system_html_a94734d18facf7af7172fca0d22dcad49"><div class="ttname"><a href="class_combat_system.html#a94734d18facf7af7172fca0d22dcad49">CombatSystem::get_closest_entity</a></div><div class="ttdeci">tdt::uint get_closest_entity(tdt::uint id, COND &amp;condition, bool only_sight=true) const </div><div class="ttdoc">Returns the ID of the closest entity that has a given component, meets a given condition and is acces...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00128">CombatSystem.hpp:128</a></div></div>
<div class="ttc" id="class_combat_system_html_a1a2d9e90b900331d004d10e2d6e39329"><div class="ttname"><a href="class_combat_system.html#a1a2d9e90b900331d004d10e2d6e39329">CombatSystem::get_closest_entity_thats_not</a></div><div class="ttdeci">tdt::uint get_closest_entity_thats_not(tdt::uint, tdt::uint, bool=true, bool=false) const </div><div class="ttdoc">Returns the ID of the closest entity (from a given entity&amp;#39;s position) ignoring a given entity...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00224">CombatSystem.cpp:224</a></div></div>
<div class="ttc" id="class_combat_system_html_a9b467406db2dae24848078435a78c95c"><div class="ttname"><a href="class_combat_system.html#a9b467406db2dae24848078435a78c95c">CombatSystem::get_closest_gold_vault</a></div><div class="ttdeci">tdt::uint get_closest_gold_vault(tdt::uint, bool=false, bool=false) const </div><div class="ttdoc">Returns the ID of the closest gold vault that can store player&amp;#39;s gold. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00247">CombatSystem.cpp:247</a></div></div>
<div class="ttc" id="class_combat_system_html_a7003f0a13c90284528508282c6ac81f9"><div class="ttname"><a href="class_combat_system.html#a7003f0a13c90284528508282c6ac81f9">CombatSystem::apply_effect_to_entities_in_range</a></div><div class="ttdeci">void apply_effect_to_entities_in_range(tdt::uint id, COND &amp;condition, EFFECT &amp;effect, tdt::real range)</div><div class="ttdoc">Applies a given effect (functor given by the template argument EFFECT) to all entities conforming the...</div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8hpp_source.html#l00170">CombatSystem.hpp:170</a></div></div>
<div class="ttc" id="class_system_html"><div class="ttname"><a href="class_system.html">System</a></div><div class="ttdoc">Parent class of all systems. </div><div class="ttdef"><b>Definition:</b> <a href="_system_8hpp_source.html#l00008">System.hpp:8</a></div></div>
<div class="ttc" id="class_ray_caster_html"><div class="ttname"><a href="class_ray_caster.html">RayCaster</a></div><div class="ttdoc">Manages polygon precise raycasting used with half walls that have empty spaces in their bounding boxe...</div><div class="ttdef"><b>Definition:</b> <a href="_ray_caster_8hpp_source.html#l00014">RayCaster.hpp:14</a></div></div>
<div class="ttc" id="class_combat_system_html_a9ec58d96936e66225997d9d7df7717d0"><div class="ttname"><a href="class_combat_system.html#a9ec58d96936e66225997d9d7df7717d0">CombatSystem::enemy_in_range</a></div><div class="ttdeci">bool enemy_in_range(tdt::uint)</div><div class="ttdoc">Returns true if an enemy is in range from a given entity, false otherwise. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00356">CombatSystem.cpp:356</a></div></div>
<div class="ttc" id="class_combat_system_html_a3345cf86852bee674fdd61b8c82001c7"><div class="ttname"><a href="class_combat_system.html#a3345cf86852bee674fdd61b8c82001c7">CombatSystem::set_max_run_away_attempts</a></div><div class="ttdeci">void set_max_run_away_attempts(tdt::uint)</div><div class="ttdoc">Sets the maximum amount of pathfinding attempts for running away. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00341">CombatSystem.cpp:341</a></div></div>
<div class="ttc" id="class_combat_system_html_a67c67143f6d96a5f0947627b7c355dfe"><div class="ttname"><a href="class_combat_system.html#a67c67143f6d96a5f0947627b7c355dfe">CombatSystem::apply_freeze_to</a></div><div class="ttdeci">void apply_freeze_to(tdt::uint, tdt::real)</div><div class="ttdoc">Freezes a given entity for a given time period. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00295">CombatSystem.cpp:295</a></div></div>
<div class="ttc" id="class_combat_system_html_a77244dfa4506f9f88f43cb4a3f938098"><div class="ttname"><a href="class_combat_system.html#a77244dfa4506f9f88f43cb4a3f938098">CombatSystem::run_away_from_</a></div><div class="ttdeci">void run_away_from_(tdt::uint, tdt::uint, tdt::uint)</div><div class="ttdoc">Tries to find a path used by an entity to run away from another entity. </div><div class="ttdef"><b>Definition:</b> <a href="_combat_system_8cpp_source.html#l00301">CombatSystem.cpp:301</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_42100eec88c69628f959138af350aadf.html">systems</a></li><li class="navelem"><b>CombatSystem.hpp</b></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
