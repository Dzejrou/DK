\hypertarget{class_combat_system}{}\section{Combat\+System Class Reference}
\label{class_combat_system}\index{Combat\+System@{Combat\+System}}


Manages auto attack melee and ranged combat, special melee and ranged attacks will be both handled by the spellcasting system.  




{\ttfamily \#include $<$Combat\+System.\+hpp$>$}

Inheritance diagram for Combat\+System\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_combat_system}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_combat_system_ad7d0ab805abdae93ccaa9d09f9d40153}{Combat\+System} (\hyperlink{class_entity_system}{Entity\+System} \&, Ogre\+::\+Scene\+Manager \&, \hyperlink{class_grid_system}{Grid\+System} \&)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{class_combat_system_ae95bc02a8ac9237e5dca11f56ecefe9e}{$\sim$\+Combat\+System} ()=default
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a2c284a065f150a9fb67dae0f1229db37}{update} (tdt\+::real) override
\begin{DoxyCompactList}\small\item\em Updates all auto attack combat in the game currently in progress. \end{DoxyCompactList}\item 
bool \hyperlink{class_combat_system_a9e4c1c2747bd800a6766a59f633c7177}{in\+\_\+sight} (tdt\+::uint, tdt\+::uint) const 
\begin{DoxyCompactList}\small\item\em Returns true if two given entities can see each other, false otherwise. \end{DoxyCompactList}\item 
bool \hyperlink{class_combat_system_ad573eb3a0e7751ffc5a6be31f6443c9f}{in\+\_\+sight\+\_\+wrt\+\_\+\+BB} (tdt\+::uint, tdt\+::uint) const 
\begin{DoxyCompactList}\small\item\em Returns true if two given entities can see each other, false otherwise. \end{DoxyCompactList}\item 
tdt\+::uint \hyperlink{class_combat_system_acc161d46979586d368d28a7ee92b79e8}{get\+\_\+closest\+\_\+entity} (tdt\+::uint, bool=true, bool=false) const 
\begin{DoxyCompactList}\small\item\em Returns the ID of the closest entity (from a given entity\textquotesingle{}s position), Component\+::\+N\+O\+\_\+\+E\+N\+T\+I\+TY otherwise. \end{DoxyCompactList}\item 
tdt\+::uint \hyperlink{class_combat_system_afdb21b7f8f95c609e4c00ae6206ac942}{get\+\_\+closest\+\_\+structure} (tdt\+::uint, bool=true, bool=false) const 
\begin{DoxyCompactList}\small\item\em Returns the ID of the closest structure (from a given entity\textquotesingle{}s position), Component\+::\+N\+O\+\_\+\+E\+N\+T\+I\+TY otherwise. \end{DoxyCompactList}\item 
tdt\+::uint \hyperlink{class_combat_system_a1a2d9e90b900331d004d10e2d6e39329}{get\+\_\+closest\+\_\+entity\+\_\+thats\+\_\+not} (tdt\+::uint, tdt\+::uint, bool=true, bool=false) const 
\begin{DoxyCompactList}\small\item\em Returns the ID of the closest entity (from a given entity\textquotesingle{}s position) ignoring a given entity, Component\+::\+N\+O\+\_\+\+E\+N\+T\+I\+TY otherwise. \end{DoxyCompactList}\item 
tdt\+::uint \hyperlink{class_combat_system_a6776c78cfda064865b66b60f1a0bd6e1}{get\+\_\+closest\+\_\+gold\+\_\+deposit} (tdt\+::uint, bool=false) const 
\begin{DoxyCompactList}\small\item\em Returns the ID of the closest gold deposit (entity with both structure and gold components). \end{DoxyCompactList}\item 
tdt\+::uint \hyperlink{class_combat_system_a9b467406db2dae24848078435a78c95c}{get\+\_\+closest\+\_\+gold\+\_\+vault} (tdt\+::uint, bool=false, bool=false) const 
\begin{DoxyCompactList}\small\item\em Returns the ID of the closest gold vault that can store player\textquotesingle{}s gold. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename C\+O\+NT , typename C\+O\+ND $>$ }\\tdt\+::uint \hyperlink{class_combat_system_a94734d18facf7af7172fca0d22dcad49}{get\+\_\+closest\+\_\+entity} (tdt\+::uint id, C\+O\+ND \&condition, bool only\+\_\+sight=true) const 
\begin{DoxyCompactList}\small\item\em Returns the ID of the closest entity that has a given component, meets a given condition and is accessible. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename C\+O\+NT , typename C\+O\+ND , typename E\+F\+F\+E\+CT $>$ }\\void \hyperlink{class_combat_system_a7003f0a13c90284528508282c6ac81f9}{apply\+\_\+effect\+\_\+to\+\_\+entities\+\_\+in\+\_\+range} (tdt\+::uint id, C\+O\+ND \&condition, E\+F\+F\+E\+CT \&effect, tdt\+::real range)
\begin{DoxyCompactList}\small\item\em Applies a given effect (functor given by the template argument E\+F\+F\+E\+CT) to all entities conforming the condition (functor given by the template argument C\+O\+ND) in a given range from a given entity. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a1ea784797f890c7aebeff257624bbea6}{apply\+\_\+heal\+\_\+to\+\_\+entities\+\_\+in\+\_\+range} (tdt\+::uint, tdt\+::real)
\begin{DoxyCompactList}\small\item\em Heals all friendly entities within a given range from a given entity. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a31038240f549621d2ec192b0942e29c5}{apply\+\_\+damage\+\_\+to\+\_\+entities\+\_\+in\+\_\+range} (tdt\+::uint, tdt\+::real, tdt\+::uint, tdt\+::uint)
\begin{DoxyCompactList}\small\item\em Damages all friendly entities within a given range from a given entity. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_ae64eaa3c5a01037a6b1ea9db3bb93747}{apply\+\_\+slow\+\_\+to\+\_\+entities\+\_\+in\+\_\+range} (tdt\+::uint, tdt\+::real, tdt\+::real)
\begin{DoxyCompactList}\small\item\em Slows all enemy entities within a given range from a given entity for a given time period. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a3cd665daca2c1c49ca0788d97f5d2c8f}{apply\+\_\+freeze\+\_\+to\+\_\+entities\+\_\+in\+\_\+range} (tdt\+::uint, tdt\+::real, tdt\+::real)
\begin{DoxyCompactList}\small\item\em Freezes all enemy entities within a given range from a given entity for a given time period. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a99deeb9898f08379e2ff0e1471428a1f}{apply\+\_\+slow\+\_\+to} (tdt\+::uint, tdt\+::real)
\begin{DoxyCompactList}\small\item\em Slows a given entity for a given time period. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a67c67143f6d96a5f0947627b7c355dfe}{apply\+\_\+freeze\+\_\+to} (tdt\+::uint, tdt\+::real)
\begin{DoxyCompactList}\small\item\em Freezes a given entity for a given time period. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_aa1dcd9b7fa26a536bfee3cb7a2b90d3a}{run\+\_\+away\+\_\+from} (tdt\+::uint, tdt\+::uint, tdt\+::uint)
\begin{DoxyCompactList}\small\item\em Tries to find a path used by an entity to run away from another entity. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a3345cf86852bee674fdd61b8c82001c7}{set\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts} (tdt\+::uint)
\begin{DoxyCompactList}\small\item\em Sets the maximum amount of pathfinding attempts for running away. \end{DoxyCompactList}\item 
tdt\+::uint \hyperlink{class_combat_system_a6144440bbf7eeced81444326e42e6645}{get\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts} ()
\begin{DoxyCompactList}\small\item\em Returns the maximum amount of pathfinding attempts for running away. \end{DoxyCompactList}\item 
bool \hyperlink{class_combat_system_a9ec58d96936e66225997d9d7df7717d0}{enemy\+\_\+in\+\_\+range} (tdt\+::uint)
\begin{DoxyCompactList}\small\item\em Returns true if an enemy is in range from a given entity, false otherwise. \end{DoxyCompactList}\item 
{\footnotesize template$<$$>$ }\\const std\+::map$<$ tdt\+::uint, A\+L\+L\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+TS $>$ \& \hyperlink{class_combat_system_a6e001848f89439467e08c8d1fcd10e2b}{get\+\_\+container} () const 
\begin{DoxyCompactList}\small\item\em Specific case of the get\+\_\+container method, which returns the map containing $<$ID, component bitset$>$ map containing all entities. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename C\+O\+MP $>$ }\\const std\+::map$<$ tdt\+::uint, C\+O\+MP $>$ \& \hyperlink{class_combat_system_a009e7e33b36a38e037662cc662b57774}{get\+\_\+container} () const 
\begin{DoxyCompactList}\small\item\em Retuns a map containing pairs of I\+Ds and components of a given type, use the type A\+L\+L\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+TS to get the $<$ID, component bitset$>$ container. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a57555ff5cfbf11cabf4dc558c64e265a}{create\+\_\+homing\+\_\+projectile} (tdt\+::uint, \hyperlink{struct_combat_component}{Combat\+Component} \&)
\begin{DoxyCompactList}\small\item\em Creates a new homing projectile at the position of a given entity homing at the entity\textquotesingle{}s current target. \end{DoxyCompactList}\item 
void \hyperlink{class_combat_system_a77244dfa4506f9f88f43cb4a3f938098}{run\+\_\+away\+\_\+from\+\_\+} (tdt\+::uint, tdt\+::uint, tdt\+::uint)
\begin{DoxyCompactList}\small\item\em Tries to find a path used by an entity to run away from another entity. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_entity_system}{Entity\+System} \& \hyperlink{class_combat_system_a801a051bdd230885b786fcc7b2dad9af}{entities\+\_\+}
\begin{DoxyCompactList}\small\item\em Reference to the game\textquotesingle{}s entity system (component retrieval). \end{DoxyCompactList}\item 
Ogre\+::\+Ray\+Scene\+Query \& \hyperlink{class_combat_system_a03b947e997e7138738daf26f48eac7dd}{ray\+\_\+query\+\_\+}
\begin{DoxyCompactList}\small\item\em Reference to the ray cast used to check if two entities can see each other. \end{DoxyCompactList}\item 
\hyperlink{class_grid_system}{Grid\+System} \& \hyperlink{class_combat_system_a90e8e6bb234cb358f676101f8da2daaf}{grid\+\_\+}
\begin{DoxyCompactList}\small\item\em Used to check if an entity is accessible. \end{DoxyCompactList}\item 
\hyperlink{class_ray_caster}{Ray\+Caster} \hyperlink{class_combat_system_aefac99884a4c7fa895f09dd484a3bd15}{ray\+\_\+caster\+\_\+}
\begin{DoxyCompactList}\small\item\em Used for polygon precise line of sight checking. \end{DoxyCompactList}\item 
tdt\+::uint \hyperlink{class_combat_system_a1b68f04d3aee2673466cc57701d8e2e1}{max\+\_\+run\+\_\+away\+\_\+attempts\+\_\+} \{10\}
\begin{DoxyCompactList}\small\item\em Maximum amount of pathfindings performed when running away from an enemy. \end{DoxyCompactList}\item 
std\+::queue$<$ std\+::tuple$<$ tdt\+::uint, tdt\+::uint, tdt\+::uint $>$ $>$ \hyperlink{class_combat_system_aafe37a8f7fa29174c136c747a3d7ee54}{run\+\_\+away\+\_\+queue\+\_\+}
\begin{DoxyCompactList}\small\item\em Used to distribute run away pathfindings over frames (otherwise something like a meteor falling on a big group of entities would freeze the game until all run away pathfindings are done.) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Manages auto attack melee and ranged combat, special melee and ranged attacks will be both handled by the spellcasting system. 

Definition at line 28 of file Combat\+System.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\index{Combat\+System@{Combat\+System}!Combat\+System@{Combat\+System}}
\index{Combat\+System@{Combat\+System}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{Combat\+System(\+Entity\+System \&, Ogre\+::\+Scene\+Manager \&, Grid\+System \&)}{CombatSystem(EntitySystem &, Ogre::SceneManager &, GridSystem &)}}]{\setlength{\rightskip}{0pt plus 5cm}Combat\+System\+::\+Combat\+System (
\begin{DoxyParamCaption}
\item[{{\bf Entity\+System} \&}]{ents, }
\item[{Ogre\+::\+Scene\+Manager \&}]{scene, }
\item[{{\bf Grid\+System} \&}]{grid}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_ad7d0ab805abdae93ccaa9d09f9d40153}{}\label{class_combat_system_ad7d0ab805abdae93ccaa9d09f9d40153}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em Reference} & to the game\textquotesingle{}s entity system (component retrieval). \\
\hline
{\em Reference} & to the main scene manager (ray casting). \\
\hline
{\em Reference} & to the game\textquotesingle{}s grid system (accessibility). \\
\hline
\end{DoxyParams}


Definition at line 11 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!````~Combat\+System@{$\sim$\+Combat\+System}}
\index{````~Combat\+System@{$\sim$\+Combat\+System}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{$\sim$\+Combat\+System()=default}{~CombatSystem()=default}}]{\setlength{\rightskip}{0pt plus 5cm}Combat\+System\+::$\sim$\+Combat\+System (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [default]}}\hypertarget{class_combat_system_ae95bc02a8ac9237e5dca11f56ecefe9e}{}\label{class_combat_system_ae95bc02a8ac9237e5dca11f56ecefe9e}


Destructor. 



\subsection{Member Function Documentation}
\index{Combat\+System@{Combat\+System}!apply\+\_\+damage\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+damage\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}}
\index{apply\+\_\+damage\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+damage\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{apply\+\_\+damage\+\_\+to\+\_\+entities\+\_\+in\+\_\+range(tdt\+::uint, tdt\+::real, tdt\+::uint, tdt\+::uint)}{apply_damage_to_entities_in_range(tdt::uint, tdt::real, tdt::uint, tdt::uint)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::apply\+\_\+damage\+\_\+to\+\_\+entities\+\_\+in\+\_\+range (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::real}]{range, }
\item[{tdt\+::uint}]{min, }
\item[{tdt\+::uint}]{max}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a31038240f549621d2ec192b0942e29c5}{}\label{class_combat_system_a31038240f549621d2ec192b0942e29c5}


Damages all friendly entities within a given range from a given entity. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
{\em The} & range. \\
\hline
{\em Minimal} & damage value. \\
\hline
{\em Maximal} & damage value. \\
\hline
\end{DoxyParams}


Definition at line 268 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!apply\+\_\+effect\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+effect\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}}
\index{apply\+\_\+effect\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+effect\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{apply\+\_\+effect\+\_\+to\+\_\+entities\+\_\+in\+\_\+range(tdt\+::uint id, C\+O\+N\+D \&condition, E\+F\+F\+E\+C\+T \&effect, tdt\+::real range)}{apply_effect_to_entities_in_range(tdt::uint id, COND &condition, EFFECT &effect, tdt::real range)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename C\+O\+NT , typename C\+O\+ND , typename E\+F\+F\+E\+CT $>$ void Combat\+System\+::apply\+\_\+effect\+\_\+to\+\_\+entities\+\_\+in\+\_\+range (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{C\+O\+ND \&}]{condition, }
\item[{E\+F\+F\+E\+CT \&}]{effect, }
\item[{tdt\+::real}]{range}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_combat_system_a7003f0a13c90284528508282c6ac81f9}{}\label{class_combat_system_a7003f0a13c90284528508282c6ac81f9}


Applies a given effect (functor given by the template argument E\+F\+F\+E\+CT) to all entities conforming the condition (functor given by the template argument C\+O\+ND) in a given range from a given entity. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
{\em Instance} & of the condition functor. \\
\hline
{\em Instance} & of the effect functor. \\
\hline
{\em The} & radius. \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The explicit template specialization determines over which component container this method will iterate, use a component name for a specific components only or A\+L\+L\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+TS for the component bitset map (which allows to iterate over all entitites regardless of their components). 
\end{DoxyNote}


Definition at line 170 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!apply\+\_\+freeze\+\_\+to@{apply\+\_\+freeze\+\_\+to}}
\index{apply\+\_\+freeze\+\_\+to@{apply\+\_\+freeze\+\_\+to}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{apply\+\_\+freeze\+\_\+to(tdt\+::uint, tdt\+::real)}{apply_freeze_to(tdt::uint, tdt::real)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::apply\+\_\+freeze\+\_\+to (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::real}]{time}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a67c67143f6d96a5f0947627b7c355dfe}{}\label{class_combat_system_a67c67143f6d96a5f0947627b7c355dfe}


Freezes a given entity for a given time period. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
{\em The} & time period for which the freeze is active. \\
\hline
\end{DoxyParams}


Definition at line 295 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!apply\+\_\+freeze\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+freeze\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}}
\index{apply\+\_\+freeze\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+freeze\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{apply\+\_\+freeze\+\_\+to\+\_\+entities\+\_\+in\+\_\+range(tdt\+::uint, tdt\+::real, tdt\+::real)}{apply_freeze_to_entities_in_range(tdt::uint, tdt::real, tdt::real)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::apply\+\_\+freeze\+\_\+to\+\_\+entities\+\_\+in\+\_\+range (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::real}]{range, }
\item[{tdt\+::real}]{time}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a3cd665daca2c1c49ca0788d97f5d2c8f}{}\label{class_combat_system_a3cd665daca2c1c49ca0788d97f5d2c8f}


Freezes all enemy entities within a given range from a given entity for a given time period. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
{\em The} & range. \\
\hline
{\em The} & time period for which the freeze is active. \\
\hline
\end{DoxyParams}


Definition at line 282 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!apply\+\_\+heal\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+heal\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}}
\index{apply\+\_\+heal\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+heal\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{apply\+\_\+heal\+\_\+to\+\_\+entities\+\_\+in\+\_\+range(tdt\+::uint, tdt\+::real)}{apply_heal_to_entities_in_range(tdt::uint, tdt::real)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::apply\+\_\+heal\+\_\+to\+\_\+entities\+\_\+in\+\_\+range (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::real}]{range}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a1ea784797f890c7aebeff257624bbea6}{}\label{class_combat_system_a1ea784797f890c7aebeff257624bbea6}


Heals all friendly entities within a given range from a given entity. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
{\em The} & range. \\
\hline
\end{DoxyParams}


Definition at line 261 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!apply\+\_\+slow\+\_\+to@{apply\+\_\+slow\+\_\+to}}
\index{apply\+\_\+slow\+\_\+to@{apply\+\_\+slow\+\_\+to}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{apply\+\_\+slow\+\_\+to(tdt\+::uint, tdt\+::real)}{apply_slow_to(tdt::uint, tdt::real)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::apply\+\_\+slow\+\_\+to (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::real}]{time}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a99deeb9898f08379e2ff0e1471428a1f}{}\label{class_combat_system_a99deeb9898f08379e2ff0e1471428a1f}


Slows a given entity for a given time period. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
{\em The} & time period for which the freeze is active. \\
\hline
\end{DoxyParams}


Definition at line 289 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!apply\+\_\+slow\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+slow\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}}
\index{apply\+\_\+slow\+\_\+to\+\_\+entities\+\_\+in\+\_\+range@{apply\+\_\+slow\+\_\+to\+\_\+entities\+\_\+in\+\_\+range}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{apply\+\_\+slow\+\_\+to\+\_\+entities\+\_\+in\+\_\+range(tdt\+::uint, tdt\+::real, tdt\+::real)}{apply_slow_to_entities_in_range(tdt::uint, tdt::real, tdt::real)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::apply\+\_\+slow\+\_\+to\+\_\+entities\+\_\+in\+\_\+range (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::real}]{range, }
\item[{tdt\+::real}]{time}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_ae64eaa3c5a01037a6b1ea9db3bb93747}{}\label{class_combat_system_ae64eaa3c5a01037a6b1ea9db3bb93747}


Slows all enemy entities within a given range from a given entity for a given time period. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
{\em The} & range. \\
\hline
{\em The} & time period for which the slow is active. \\
\hline
\end{DoxyParams}


Definition at line 275 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!create\+\_\+homing\+\_\+projectile@{create\+\_\+homing\+\_\+projectile}}
\index{create\+\_\+homing\+\_\+projectile@{create\+\_\+homing\+\_\+projectile}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{create\+\_\+homing\+\_\+projectile(tdt\+::uint, Combat\+Component \&)}{create_homing_projectile(tdt::uint, CombatComponent &)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::create\+\_\+homing\+\_\+projectile (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{caster, }
\item[{{\bf Combat\+Component} \&}]{combat}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_a57555ff5cfbf11cabf4dc558c64e265a}{}\label{class_combat_system_a57555ff5cfbf11cabf4dc558c64e265a}


Creates a new homing projectile at the position of a given entity homing at the entity\textquotesingle{}s current target. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the caster entity. \\
\hline
{\em Reference} & to the caster entity\textquotesingle{}s combat component. \\
\hline
\end{DoxyParams}


Definition at line 387 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!enemy\+\_\+in\+\_\+range@{enemy\+\_\+in\+\_\+range}}
\index{enemy\+\_\+in\+\_\+range@{enemy\+\_\+in\+\_\+range}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{enemy\+\_\+in\+\_\+range(tdt\+::uint)}{enemy_in_range(tdt::uint)}}]{\setlength{\rightskip}{0pt plus 5cm}bool Combat\+System\+::enemy\+\_\+in\+\_\+range (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a9ec58d96936e66225997d9d7df7717d0}{}\label{class_combat_system_a9ec58d96936e66225997d9d7df7717d0}


Returns true if an enemy is in range from a given entity, false otherwise. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity. \\
\hline
\end{DoxyParams}


Definition at line 356 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+closest\+\_\+entity@{get\+\_\+closest\+\_\+entity}}
\index{get\+\_\+closest\+\_\+entity@{get\+\_\+closest\+\_\+entity}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+closest\+\_\+entity(tdt\+::uint, bool=true, bool=false) const }{get_closest_entity(tdt::uint, bool=true, bool=false) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::size\+\_\+t Combat\+System\+::get\+\_\+closest\+\_\+entity (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{bool}]{only\+\_\+sight = {\ttfamily true}, }
\item[{bool}]{friendly = {\ttfamily false}}
\end{DoxyParamCaption}
) const}\hypertarget{class_combat_system_acc161d46979586d368d28a7ee92b79e8}{}\label{class_combat_system_acc161d46979586d368d28a7ee92b79e8}


Returns the ID of the closest entity (from a given entity\textquotesingle{}s position), Component\+::\+N\+O\+\_\+\+E\+N\+T\+I\+TY otherwise. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity from whose position the search is performed. \\
\hline
{\em If} & true, will return only entities in sight. \\
\hline
{\em If} & true, will return only friendly entities (enemies otherwise). \\
\hline
\end{DoxyParams}


Definition at line 208 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+closest\+\_\+entity@{get\+\_\+closest\+\_\+entity}}
\index{get\+\_\+closest\+\_\+entity@{get\+\_\+closest\+\_\+entity}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+closest\+\_\+entity(tdt\+::uint id, C\+O\+N\+D \&condition, bool only\+\_\+sight=true) const }{get_closest_entity(tdt::uint id, COND &condition, bool only_sight=true) const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename C\+O\+NT , typename C\+O\+ND $>$ tdt\+::uint Combat\+System\+::get\+\_\+closest\+\_\+entity (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{C\+O\+ND \&}]{condition, }
\item[{bool}]{only\+\_\+sight = {\ttfamily true}}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_combat_system_a94734d18facf7af7172fca0d22dcad49}{}\label{class_combat_system_a94734d18facf7af7172fca0d22dcad49}


Returns the ID of the closest entity that has a given component, meets a given condition and is accessible. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity that is searching. \\
\hline
{\em Functor} & representing the condition. \\
\hline
{\em If} & true, only entities in sight get checked. \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
The explicit template specialization determines over which component container this method will iterate, use a component name for a specific components only or A\+L\+L\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+TS for the component bitset map (which allows to iterate over all entitites regardless of their components). 
\end{DoxyNote}


Definition at line 128 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+closest\+\_\+entity\+\_\+thats\+\_\+not@{get\+\_\+closest\+\_\+entity\+\_\+thats\+\_\+not}}
\index{get\+\_\+closest\+\_\+entity\+\_\+thats\+\_\+not@{get\+\_\+closest\+\_\+entity\+\_\+thats\+\_\+not}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+closest\+\_\+entity\+\_\+thats\+\_\+not(tdt\+::uint, tdt\+::uint, bool=true, bool=false) const }{get_closest_entity_thats_not(tdt::uint, tdt::uint, bool=true, bool=false) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::size\+\_\+t Combat\+System\+::get\+\_\+closest\+\_\+entity\+\_\+thats\+\_\+not (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::uint}]{ignored, }
\item[{bool}]{only\+\_\+sight = {\ttfamily true}, }
\item[{bool}]{friendly = {\ttfamily false}}
\end{DoxyParamCaption}
) const}\hypertarget{class_combat_system_a1a2d9e90b900331d004d10e2d6e39329}{}\label{class_combat_system_a1a2d9e90b900331d004d10e2d6e39329}


Returns the ID of the closest entity (from a given entity\textquotesingle{}s position) ignoring a given entity, Component\+::\+N\+O\+\_\+\+E\+N\+T\+I\+TY otherwise. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity from whose position the search is performed. \\
\hline
{\em ID} & of the entity that\textquotesingle{}s ignored in the search. \\
\hline
{\em If} & true, will return only entities in sight. \\
\hline
{\em If} & true, will return only friendly entities (enemies otherwise). \\
\hline
\end{DoxyParams}


Definition at line 224 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+closest\+\_\+gold\+\_\+deposit@{get\+\_\+closest\+\_\+gold\+\_\+deposit}}
\index{get\+\_\+closest\+\_\+gold\+\_\+deposit@{get\+\_\+closest\+\_\+gold\+\_\+deposit}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+closest\+\_\+gold\+\_\+deposit(tdt\+::uint, bool=false) const }{get_closest_gold_deposit(tdt::uint, bool=false) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::size\+\_\+t Combat\+System\+::get\+\_\+closest\+\_\+gold\+\_\+deposit (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{bool}]{only\+\_\+sight = {\ttfamily false}}
\end{DoxyParamCaption}
) const}\hypertarget{class_combat_system_a6776c78cfda064865b66b60f1a0bd6e1}{}\label{class_combat_system_a6776c78cfda064865b66b60f1a0bd6e1}


Returns the ID of the closest gold deposit (entity with both structure and gold components). 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity that looks for the gold deposit. \\
\hline
{\em If} & true, only deposits in sight will be checked. \\
\hline
\end{DoxyParams}


Definition at line 238 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+closest\+\_\+gold\+\_\+vault@{get\+\_\+closest\+\_\+gold\+\_\+vault}}
\index{get\+\_\+closest\+\_\+gold\+\_\+vault@{get\+\_\+closest\+\_\+gold\+\_\+vault}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+closest\+\_\+gold\+\_\+vault(tdt\+::uint, bool=false, bool=false) const }{get_closest_gold_vault(tdt::uint, bool=false, bool=false) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::size\+\_\+t Combat\+System\+::get\+\_\+closest\+\_\+gold\+\_\+vault (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{bool}]{only\+\_\+sight = {\ttfamily false}, }
\item[{bool}]{only\+\_\+free = {\ttfamily false}}
\end{DoxyParamCaption}
) const}\hypertarget{class_combat_system_a9b467406db2dae24848078435a78c95c}{}\label{class_combat_system_a9b467406db2dae24848078435a78c95c}


Returns the ID of the closest gold vault that can store player\textquotesingle{}s gold. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity that looks for the gold vault. \\
\hline
{\em If} & true, only vaults in sight will be checked. \\
\hline
{\em If} & true, only vaults that have free space for more gold will be checked. \\
\hline
\end{DoxyParams}


Definition at line 247 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+closest\+\_\+structure@{get\+\_\+closest\+\_\+structure}}
\index{get\+\_\+closest\+\_\+structure@{get\+\_\+closest\+\_\+structure}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+closest\+\_\+structure(tdt\+::uint, bool=true, bool=false) const }{get_closest_structure(tdt::uint, bool=true, bool=false) const }}]{\setlength{\rightskip}{0pt plus 5cm}std\+::size\+\_\+t Combat\+System\+::get\+\_\+closest\+\_\+structure (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{bool}]{only\+\_\+sight = {\ttfamily true}, }
\item[{bool}]{friendly = {\ttfamily false}}
\end{DoxyParamCaption}
) const}\hypertarget{class_combat_system_afdb21b7f8f95c609e4c00ae6206ac942}{}\label{class_combat_system_afdb21b7f8f95c609e4c00ae6206ac942}


Returns the ID of the closest structure (from a given entity\textquotesingle{}s position), Component\+::\+N\+O\+\_\+\+E\+N\+T\+I\+TY otherwise. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity from whose position the search is performed. \\
\hline
{\em If} & true, will return only structures in sight. \\
\hline
{\em If} & true, will return friendly structures (enemies otherwise). \\
\hline
\end{DoxyParams}


Definition at line 216 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+container@{get\+\_\+container}}
\index{get\+\_\+container@{get\+\_\+container}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+container() const }{get_container() const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename C\+O\+MP $>$ const std\+::map$<$tdt\+::uint, C\+O\+MP$>$\& Combat\+System\+::get\+\_\+container (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}\hypertarget{class_combat_system_a009e7e33b36a38e037662cc662b57774}{}\label{class_combat_system_a009e7e33b36a38e037662cc662b57774}


Retuns a map containing pairs of I\+Ds and components of a given type, use the type A\+L\+L\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+TS to get the $<$ID, component bitset$>$ container. 



Definition at line 269 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+container@{get\+\_\+container}}
\index{get\+\_\+container@{get\+\_\+container}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+container() const }{get_container() const }}]{\setlength{\rightskip}{0pt plus 5cm}template$<$$>$ const std\+::map$<$tdt\+::uint, A\+L\+L\+\_\+\+C\+O\+M\+P\+O\+N\+E\+N\+TS$>$\& Combat\+System\+::get\+\_\+container (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_combat_system_a6e001848f89439467e08c8d1fcd10e2b}{}\label{class_combat_system_a6e001848f89439467e08c8d1fcd10e2b}


Specific case of the get\+\_\+container method, which returns the map containing $<$ID, component bitset$>$ map containing all entities. 



Definition at line 331 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!get\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts@{get\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts}}
\index{get\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts@{get\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{get\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts()}{get_max_run_away_attempts()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::size\+\_\+t Combat\+System\+::get\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a6144440bbf7eeced81444326e42e6645}{}\label{class_combat_system_a6144440bbf7eeced81444326e42e6645}


Returns the maximum amount of pathfinding attempts for running away. 



Definition at line 351 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!in\+\_\+sight@{in\+\_\+sight}}
\index{in\+\_\+sight@{in\+\_\+sight}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{in\+\_\+sight(tdt\+::uint, tdt\+::uint) const }{in_sight(tdt::uint, tdt::uint) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool Combat\+System\+::in\+\_\+sight (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{ent\+\_\+id, }
\item[{tdt\+::uint}]{target}
\end{DoxyParamCaption}
) const}\hypertarget{class_combat_system_a9e4c1c2747bd800a6766a59f633c7177}{}\label{class_combat_system_a9e4c1c2747bd800a6766a59f633c7177}


Returns true if two given entities can see each other, false otherwise. 

Tests polygons. 
\begin{DoxyParams}{Parameters}
{\em ID} & of the first entity. \\
\hline
{\em ID} & of the second entity. N\+O\+TE\+: Tests only if entities that have query flags of W\+A\+LL or B\+U\+I\+L\+D\+I\+NG are in the way, allows to see through other friendly/enemy/neutral entities. \\
\hline
\end{DoxyParams}


Definition at line 157 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!in\+\_\+sight\+\_\+wrt\+\_\+\+BB@{in\+\_\+sight\+\_\+wrt\+\_\+\+BB}}
\index{in\+\_\+sight\+\_\+wrt\+\_\+\+BB@{in\+\_\+sight\+\_\+wrt\+\_\+\+BB}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{in\+\_\+sight\+\_\+wrt\+\_\+\+B\+B(tdt\+::uint, tdt\+::uint) const }{in_sight_wrt_BB(tdt::uint, tdt::uint) const }}]{\setlength{\rightskip}{0pt plus 5cm}bool Combat\+System\+::in\+\_\+sight\+\_\+wrt\+\_\+\+BB (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{ent\+\_\+id, }
\item[{tdt\+::uint}]{target}
\end{DoxyParamCaption}
) const}\hypertarget{class_combat_system_ad573eb3a0e7751ffc5a6be31f6443c9f}{}\label{class_combat_system_ad573eb3a0e7751ffc5a6be31f6443c9f}


Returns true if two given entities can see each other, false otherwise. 

Tests only bounding boxes. 
\begin{DoxyParams}{Parameters}
{\em ID} & of the first entity. \\
\hline
{\em ID} & of the second entity. N\+O\+TE\+: Tests only if entities that have query flags of W\+A\+LL or B\+U\+I\+L\+D\+I\+NG are in the way, allows to see through other friendly/enemy/neutral entities. \\
\hline
\end{DoxyParams}


Definition at line 181 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!run\+\_\+away\+\_\+from@{run\+\_\+away\+\_\+from}}
\index{run\+\_\+away\+\_\+from@{run\+\_\+away\+\_\+from}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{run\+\_\+away\+\_\+from(tdt\+::uint, tdt\+::uint, tdt\+::uint)}{run_away_from(tdt::uint, tdt::uint, tdt::uint)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::run\+\_\+away\+\_\+from (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::uint}]{from\+\_\+id, }
\item[{tdt\+::uint}]{min\+\_\+node\+\_\+count}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_aa1dcd9b7fa26a536bfee3cb7a2b90d3a}{}\label{class_combat_system_aa1dcd9b7fa26a536bfee3cb7a2b90d3a}


Tries to find a path used by an entity to run away from another entity. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity running away. \\
\hline
{\em ID} & of the entity that is ran away from. \\
\hline
{\em Minimal} & amount of nodes the path has to have (will be ignored if the amount of attempts surpasses the maximum amount). \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This is just a dummy that enqueues the entity for pathfinding. 
\end{DoxyNote}


Definition at line 346 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!run\+\_\+away\+\_\+from\+\_\+@{run\+\_\+away\+\_\+from\+\_\+}}
\index{run\+\_\+away\+\_\+from\+\_\+@{run\+\_\+away\+\_\+from\+\_\+}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{run\+\_\+away\+\_\+from\+\_\+(tdt\+::uint, tdt\+::uint, tdt\+::uint)}{run_away_from_(tdt::uint, tdt::uint, tdt::uint)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::run\+\_\+away\+\_\+from\+\_\+ (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{id, }
\item[{tdt\+::uint}]{from\+\_\+id, }
\item[{tdt\+::uint}]{min\+\_\+node\+\_\+count}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_a77244dfa4506f9f88f43cb4a3f938098}{}\label{class_combat_system_a77244dfa4506f9f88f43cb4a3f938098}


Tries to find a path used by an entity to run away from another entity. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the entity running away. \\
\hline
{\em ID} & of the entity that is ran away from. \\
\hline
{\em Minimal} & amount of nodes the path has to have (will be ignored if the amount of attempts surpasses the maximum amount). \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
This is the actual implementation. 
\end{DoxyNote}


Definition at line 301 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!set\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts@{set\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts}}
\index{set\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts@{set\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{set\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts(tdt\+::uint)}{set_max_run_away_attempts(tdt::uint)}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::set\+\_\+max\+\_\+run\+\_\+away\+\_\+attempts (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{val}
\end{DoxyParamCaption}
)}\hypertarget{class_combat_system_a3345cf86852bee674fdd61b8c82001c7}{}\label{class_combat_system_a3345cf86852bee674fdd61b8c82001c7}


Sets the maximum amount of pathfinding attempts for running away. 


\begin{DoxyParams}{Parameters}
{\em The} & new maximum amount. \\
\hline
\end{DoxyParams}


Definition at line 341 of file Combat\+System.\+cpp.

\index{Combat\+System@{Combat\+System}!update@{update}}
\index{update@{update}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{update(tdt\+::real) override}{update(tdt::real) override}}]{\setlength{\rightskip}{0pt plus 5cm}void Combat\+System\+::update (
\begin{DoxyParamCaption}
\item[{tdt\+::real}]{delta}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}\hypertarget{class_combat_system_a2c284a065f150a9fb67dae0f1229db37}{}\label{class_combat_system_a2c284a065f150a9fb67dae0f1229db37}


Updates all auto attack combat in the game currently in progress. 


\begin{DoxyParams}{Parameters}
{\em Time} & since the last frame. \\
\hline
\end{DoxyParams}
Check if the target is in range and in sight and if so, attack, otherwise pursue the target if necessary.

Implements \hyperlink{class_system_a6d54c9bd38eb43d620a1451cb0925472}{System}.



Definition at line 19 of file Combat\+System.\+cpp.



\subsection{Member Data Documentation}
\index{Combat\+System@{Combat\+System}!entities\+\_\+@{entities\+\_\+}}
\index{entities\+\_\+@{entities\+\_\+}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{entities\+\_\+}{entities_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Entity\+System}\& Combat\+System\+::entities\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_a801a051bdd230885b786fcc7b2dad9af}{}\label{class_combat_system_a801a051bdd230885b786fcc7b2dad9af}


Reference to the game\textquotesingle{}s entity system (component retrieval). 



Definition at line 296 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!grid\+\_\+@{grid\+\_\+}}
\index{grid\+\_\+@{grid\+\_\+}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{grid\+\_\+}{grid_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Grid\+System}\& Combat\+System\+::grid\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_a90e8e6bb234cb358f676101f8da2daaf}{}\label{class_combat_system_a90e8e6bb234cb358f676101f8da2daaf}


Used to check if an entity is accessible. 



Definition at line 306 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!max\+\_\+run\+\_\+away\+\_\+attempts\+\_\+@{max\+\_\+run\+\_\+away\+\_\+attempts\+\_\+}}
\index{max\+\_\+run\+\_\+away\+\_\+attempts\+\_\+@{max\+\_\+run\+\_\+away\+\_\+attempts\+\_\+}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{max\+\_\+run\+\_\+away\+\_\+attempts\+\_\+}{max_run_away_attempts_}}]{\setlength{\rightskip}{0pt plus 5cm}tdt\+::uint Combat\+System\+::max\+\_\+run\+\_\+away\+\_\+attempts\+\_\+ \{10\}\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_a1b68f04d3aee2673466cc57701d8e2e1}{}\label{class_combat_system_a1b68f04d3aee2673466cc57701d8e2e1}


Maximum amount of pathfindings performed when running away from an enemy. 



Definition at line 316 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!ray\+\_\+caster\+\_\+@{ray\+\_\+caster\+\_\+}}
\index{ray\+\_\+caster\+\_\+@{ray\+\_\+caster\+\_\+}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{ray\+\_\+caster\+\_\+}{ray_caster_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Ray\+Caster} Combat\+System\+::ray\+\_\+caster\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_aefac99884a4c7fa895f09dd484a3bd15}{}\label{class_combat_system_aefac99884a4c7fa895f09dd484a3bd15}


Used for polygon precise line of sight checking. 



Definition at line 311 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!ray\+\_\+query\+\_\+@{ray\+\_\+query\+\_\+}}
\index{ray\+\_\+query\+\_\+@{ray\+\_\+query\+\_\+}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{ray\+\_\+query\+\_\+}{ray_query_}}]{\setlength{\rightskip}{0pt plus 5cm}Ogre\+::\+Ray\+Scene\+Query\& Combat\+System\+::ray\+\_\+query\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_a03b947e997e7138738daf26f48eac7dd}{}\label{class_combat_system_a03b947e997e7138738daf26f48eac7dd}


Reference to the ray cast used to check if two entities can see each other. 



Definition at line 301 of file Combat\+System.\+hpp.

\index{Combat\+System@{Combat\+System}!run\+\_\+away\+\_\+queue\+\_\+@{run\+\_\+away\+\_\+queue\+\_\+}}
\index{run\+\_\+away\+\_\+queue\+\_\+@{run\+\_\+away\+\_\+queue\+\_\+}!Combat\+System@{Combat\+System}}
\subsubsection[{\texorpdfstring{run\+\_\+away\+\_\+queue\+\_\+}{run_away_queue_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::queue$<$std\+::tuple$<$tdt\+::uint, tdt\+::uint, tdt\+::uint$>$ $>$ Combat\+System\+::run\+\_\+away\+\_\+queue\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_combat_system_aafe37a8f7fa29174c136c747a3d7ee54}{}\label{class_combat_system_aafe37a8f7fa29174c136c747a3d7ee54}


Used to distribute run away pathfindings over frames (otherwise something like a meteor falling on a big group of entities would freeze the game until all run away pathfindings are done.) 



Definition at line 323 of file Combat\+System.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
systems/Combat\+System.\+hpp\item 
systems/Combat\+System.\+cpp\end{DoxyCompactItemize}
