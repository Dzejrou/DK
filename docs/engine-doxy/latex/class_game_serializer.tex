\hypertarget{class_game_serializer}{}\section{Game\+Serializer Class Reference}
\label{class_game_serializer}\index{Game\+Serializer@{Game\+Serializer}}


Class that is used to save (by using Lua code generation) and loading the game (by executing said code).  




{\ttfamily \#include $<$Game\+Serializer.\+hpp$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_game_serializer_a2729d91f839374a45ffb009db9bf7da3}{Game\+Serializer} (\hyperlink{class_entity_system}{Entity\+System} \&)
\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
\hyperlink{class_game_serializer_abff94e1ff460d5793747a662ffd08851}{$\sim$\+Game\+Serializer} ()
\begin{DoxyCompactList}\small\item\em Destructor. \end{DoxyCompactList}\item 
void \hyperlink{class_game_serializer_aa57bfc3a1490bbbf73c75daa5ab06644}{save\+\_\+game} (\hyperlink{class_game}{Game} \&, const std\+::string \&=\char`\"{}quick\+\_\+save\char`\"{})
\begin{DoxyCompactList}\small\item\em Creates a Lua script that is to be used as a save file by serializing every entity into a sequence of commands that create this entity from scratch when executed. \end{DoxyCompactList}\item 
void \hyperlink{class_game_serializer_a4f1a6c9202608b390c15c25efc6f2987}{load\+\_\+game} (\hyperlink{class_game}{Game} \&, const std\+::string \&=\char`\"{}quick\+\_\+save\char`\"{})
\begin{DoxyCompactList}\small\item\em Executes a given Lua script containing a serialized game, effectively restoring the state of that game. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
typedef void(Game\+Serializer\+::$\ast$ {\bfseries Serializer\+Func\+Ptr}) (tdt\+::uint, const std\+::string \&)\hypertarget{class_game_serializer_abd56146db26ebda55e7564b630d4abd9}{}\label{class_game_serializer_abd56146db26ebda55e7564b630d4abd9}

\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{class_game_serializer_a828057a03cbf68491db761b34fc41658}{save\+\_\+tasks} ()
\begin{DoxyCompactList}\small\item\em Adds commands to the save file that assign all tasks (has to be done last). \end{DoxyCompactList}\item 
std\+::string \hyperlink{class_game_serializer_a2beb65f871b5635f5ae0c660615944e8}{save\+\_\+wave\+\_\+system} (\hyperlink{class_game}{Game} \&)
\begin{DoxyCompactList}\small\item\em Returns a string containing commands that will restore the wave system to it\textquotesingle{}s current state. \end{DoxyCompactList}\item 
std\+::string \hyperlink{class_game_serializer_ac200ccdf710ee88a2189b8775f0d2347}{save\+\_\+unlocks} ()
\begin{DoxyCompactList}\small\item\em Returns a string containing commands that will restore the unlock system to it\textquotesingle{}s current state. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename C\+O\+MP $>$ }\\void \hyperlink{class_game_serializer_a56f3943e57b817f99f5787d15802ae81}{save\+\_\+component} (tdt\+::uint, const std\+::string \&)
\begin{DoxyCompactList}\small\item\em Generates code that constructs a single component. \end{DoxyCompactList}\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\item 
{\footnotesize template$<$$>$ }\\void {\bfseries save\+\_\+component} (tdt\+::uint id, const std\+::string \&tbl\+\_\+name)\hypertarget{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}{}\label{class_game_serializer_a2b8f301421ab3d3df49c1b3537ab3b96}

\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_entity_system}{Entity\+System} \& \hyperlink{class_game_serializer_a28c5d447a195faa9da04f19b26617b16}{entities\+\_\+}
\begin{DoxyCompactList}\small\item\em Reference to the game\textquotesingle{}s entity system, used for component access. \end{DoxyCompactList}\item 
\hyperlink{classlpp_1_1_script}{lpp\+::\+Script} \& \hyperlink{class_game_serializer_a96a50f04014f8378c8cb30321107ef25}{script\+\_\+}
\begin{DoxyCompactList}\small\item\em Reference to the \hyperlink{classlpp_1_1_script}{lpp\+::\+Script} singleton for easy use. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::pair$<$ tdt\+::uint, tdt\+::uint $>$ $>$ \hyperlink{class_game_serializer_a556001cdf90fde90c842100db0cda29a}{task\+\_\+pairs\+\_\+}
\begin{DoxyCompactList}\small\item\em Contains entity -\/ task pairs that should be added in the save\+\_\+tasks method. \end{DoxyCompactList}\item 
std\+::ofstream \hyperlink{class_game_serializer_a85c282b5993050dba19dc760ea33b536}{file\+\_\+}
\begin{DoxyCompactList}\small\item\em Main file stream (no need for ifstream, since loading is done through Lua). \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::string $>$ \hyperlink{class_game_serializer_a0f6b379c053d77bb9df6bc8004280ccd}{save\+\_\+entities\+\_\+}
\begin{DoxyCompactList}\small\item\em Auxiliary vectors that allows to place entity creation at the top (so no entity variables are nil when loading a game) and component definitions at the bottom. \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::string $>$ {\bfseries save\+\_\+components\+\_\+}\hypertarget{class_game_serializer_a7b64dc19195f0fe7796cb15765162a0f}{}\label{class_game_serializer_a7b64dc19195f0fe7796cb15765162a0f}

\item 
std\+::array$<$ Serializer\+Func\+Ptr, Component\+::count $>$ \hyperlink{class_game_serializer_a0baa52b5d165843f904c9f72aac5a640}{serializers\+\_\+}
\begin{DoxyCompactList}\small\item\em Pointers to the different save\+\_\+component instances allowing for easy runtime differencing between components. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class that is used to save (by using Lua code generation) and loading the game (by executing said code). 

Definition at line 22 of file Game\+Serializer.\+hpp.



\subsection{Constructor \& Destructor Documentation}
\index{Game\+Serializer@{Game\+Serializer}!Game\+Serializer@{Game\+Serializer}}
\index{Game\+Serializer@{Game\+Serializer}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{Game\+Serializer(\+Entity\+System \&)}{GameSerializer(EntitySystem &)}}]{\setlength{\rightskip}{0pt plus 5cm}Game\+Serializer\+::\+Game\+Serializer (
\begin{DoxyParamCaption}
\item[{{\bf Entity\+System} \&}]{ents}
\end{DoxyParamCaption}
)}\hypertarget{class_game_serializer_a2729d91f839374a45ffb009db9bf7da3}{}\label{class_game_serializer_a2729d91f839374a45ffb009db9bf7da3}


Constructor. 


\begin{DoxyParams}{Parameters}
{\em Reference} & to the game\textquotesingle{}s entity system. \\
\hline
\end{DoxyParams}


Definition at line 17 of file Game\+Serializer.\+cpp.

\index{Game\+Serializer@{Game\+Serializer}!````~Game\+Serializer@{$\sim$\+Game\+Serializer}}
\index{````~Game\+Serializer@{$\sim$\+Game\+Serializer}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{$\sim$\+Game\+Serializer()}{~GameSerializer()}}]{\setlength{\rightskip}{0pt plus 5cm}Game\+Serializer\+::$\sim$\+Game\+Serializer (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_game_serializer_abff94e1ff460d5793747a662ffd08851}{}\label{class_game_serializer_abff94e1ff460d5793747a662ffd08851}


Destructor. 



Definition at line 35 of file Game\+Serializer.\+hpp.



\subsection{Member Function Documentation}
\index{Game\+Serializer@{Game\+Serializer}!load\+\_\+game@{load\+\_\+game}}
\index{load\+\_\+game@{load\+\_\+game}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{load\+\_\+game(\+Game \&, const std\+::string \&=""quick\+\_\+save"")}{load_game(Game &, const std::string &="quick_save")}}]{\setlength{\rightskip}{0pt plus 5cm}void Game\+Serializer\+::load\+\_\+game (
\begin{DoxyParamCaption}
\item[{{\bf Game} \&}]{game, }
\item[{const std\+::string \&}]{fname = {\ttfamily \char`\"{}quick\+\_\+save\char`\"{}}}
\end{DoxyParamCaption}
)}\hypertarget{class_game_serializer_a4f1a6c9202608b390c15c25efc6f2987}{}\label{class_game_serializer_a4f1a6c9202608b390c15c25efc6f2987}


Executes a given Lua script containing a serialized game, effectively restoring the state of that game. 


\begin{DoxyParams}{Parameters}
{\em Reference} & to the game object (currently used for console entries, but might be used more in the future). \\
\hline
{\em Name} & of the save file to load. \\
\hline
\end{DoxyParams}


Definition at line 142 of file Game\+Serializer.\+cpp.

\index{Game\+Serializer@{Game\+Serializer}!save\+\_\+component@{save\+\_\+component}}
\index{save\+\_\+component@{save\+\_\+component}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{save\+\_\+component(tdt\+::uint, const std\+::string \&)}{save_component(tdt::uint, const std::string &)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename C\+O\+MP $>$ void Game\+Serializer\+::save\+\_\+component (
\begin{DoxyParamCaption}
\item[{tdt\+::uint}]{, }
\item[{const std\+::string \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a56f3943e57b817f99f5787d15802ae81}{}\label{class_game_serializer_a56f3943e57b817f99f5787d15802ae81}


Generates code that constructs a single component. 


\begin{DoxyParams}{Parameters}
{\em ID} & of the component to serialize (type specialized as template argument). \\
\hline
{\em Name} & of the variable already in the save file that holds the new ID. \\
\hline
\end{DoxyParams}
\index{Game\+Serializer@{Game\+Serializer}!save\+\_\+game@{save\+\_\+game}}
\index{save\+\_\+game@{save\+\_\+game}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{save\+\_\+game(\+Game \&, const std\+::string \&=""quick\+\_\+save"")}{save_game(Game &, const std::string &="quick_save")}}]{\setlength{\rightskip}{0pt plus 5cm}void Game\+Serializer\+::save\+\_\+game (
\begin{DoxyParamCaption}
\item[{{\bf Game} \&}]{game, }
\item[{const std\+::string \&}]{fname = {\ttfamily \char`\"{}quick\+\_\+save\char`\"{}}}
\end{DoxyParamCaption}
)}\hypertarget{class_game_serializer_aa57bfc3a1490bbbf73c75daa5ab06644}{}\label{class_game_serializer_aa57bfc3a1490bbbf73c75daa5ab06644}


Creates a Lua script that is to be used as a save file by serializing every entity into a sequence of commands that create this entity from scratch when executed. 


\begin{DoxyParams}{Parameters}
{\em Reference} & to the \hyperlink{class_game}{Game} object (to be able to save all necessary data). \\
\hline
{\em Name} & of the save file. \\
\hline
\end{DoxyParams}


Definition at line 64 of file Game\+Serializer.\+cpp.

\index{Game\+Serializer@{Game\+Serializer}!save\+\_\+tasks@{save\+\_\+tasks}}
\index{save\+\_\+tasks@{save\+\_\+tasks}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{save\+\_\+tasks()}{save_tasks()}}]{\setlength{\rightskip}{0pt plus 5cm}void Game\+Serializer\+::save\+\_\+tasks (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a828057a03cbf68491db761b34fc41658}{}\label{class_game_serializer_a828057a03cbf68491db761b34fc41658}


Adds commands to the save file that assign all tasks (has to be done last). 



Definition at line 172 of file Game\+Serializer.\+cpp.

\index{Game\+Serializer@{Game\+Serializer}!save\+\_\+unlocks@{save\+\_\+unlocks}}
\index{save\+\_\+unlocks@{save\+\_\+unlocks}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{save\+\_\+unlocks()}{save_unlocks()}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Game\+Serializer\+::save\+\_\+unlocks (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_ac200ccdf710ee88a2189b8775f0d2347}{}\label{class_game_serializer_ac200ccdf710ee88a2189b8775f0d2347}


Returns a string containing commands that will restore the unlock system to it\textquotesingle{}s current state. 



Definition at line 213 of file Game\+Serializer.\+cpp.

\index{Game\+Serializer@{Game\+Serializer}!save\+\_\+wave\+\_\+system@{save\+\_\+wave\+\_\+system}}
\index{save\+\_\+wave\+\_\+system@{save\+\_\+wave\+\_\+system}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{save\+\_\+wave\+\_\+system(\+Game \&)}{save_wave_system(Game &)}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::string Game\+Serializer\+::save\+\_\+wave\+\_\+system (
\begin{DoxyParamCaption}
\item[{{\bf Game} \&}]{game}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a2beb65f871b5635f5ae0c660615944e8}{}\label{class_game_serializer_a2beb65f871b5635f5ae0c660615944e8}


Returns a string containing commands that will restore the wave system to it\textquotesingle{}s current state. 


\begin{DoxyParams}{Parameters}
{\em Reference} & to the game object that contains the wave system. \\
\hline
\end{DoxyParams}


Definition at line 183 of file Game\+Serializer.\+cpp.



\subsection{Member Data Documentation}
\index{Game\+Serializer@{Game\+Serializer}!entities\+\_\+@{entities\+\_\+}}
\index{entities\+\_\+@{entities\+\_\+}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{entities\+\_\+}{entities_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Entity\+System}\& Game\+Serializer\+::entities\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a28c5d447a195faa9da04f19b26617b16}{}\label{class_game_serializer_a28c5d447a195faa9da04f19b26617b16}


Reference to the game\textquotesingle{}s entity system, used for component access. 



Definition at line 85 of file Game\+Serializer.\+hpp.

\index{Game\+Serializer@{Game\+Serializer}!file\+\_\+@{file\+\_\+}}
\index{file\+\_\+@{file\+\_\+}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{file\+\_\+}{file_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::ofstream Game\+Serializer\+::file\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a85c282b5993050dba19dc760ea33b536}{}\label{class_game_serializer_a85c282b5993050dba19dc760ea33b536}


Main file stream (no need for ifstream, since loading is done through Lua). 



Definition at line 100 of file Game\+Serializer.\+hpp.

\index{Game\+Serializer@{Game\+Serializer}!save\+\_\+entities\+\_\+@{save\+\_\+entities\+\_\+}}
\index{save\+\_\+entities\+\_\+@{save\+\_\+entities\+\_\+}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{save\+\_\+entities\+\_\+}{save_entities_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$std\+::string$>$ Game\+Serializer\+::save\+\_\+entities\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a0f6b379c053d77bb9df6bc8004280ccd}{}\label{class_game_serializer_a0f6b379c053d77bb9df6bc8004280ccd}


Auxiliary vectors that allows to place entity creation at the top (so no entity variables are nil when loading a game) and component definitions at the bottom. 



Definition at line 106 of file Game\+Serializer.\+hpp.

\index{Game\+Serializer@{Game\+Serializer}!script\+\_\+@{script\+\_\+}}
\index{script\+\_\+@{script\+\_\+}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{script\+\_\+}{script_}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lpp\+::\+Script}\& Game\+Serializer\+::script\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a96a50f04014f8378c8cb30321107ef25}{}\label{class_game_serializer_a96a50f04014f8378c8cb30321107ef25}


Reference to the \hyperlink{classlpp_1_1_script}{lpp\+::\+Script} singleton for easy use. 



Definition at line 90 of file Game\+Serializer.\+hpp.

\index{Game\+Serializer@{Game\+Serializer}!serializers\+\_\+@{serializers\+\_\+}}
\index{serializers\+\_\+@{serializers\+\_\+}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{serializers\+\_\+}{serializers_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::array$<$Serializer\+Func\+Ptr, Component\+::count$>$ Game\+Serializer\+::serializers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a0baa52b5d165843f904c9f72aac5a640}{}\label{class_game_serializer_a0baa52b5d165843f904c9f72aac5a640}


Pointers to the different save\+\_\+component instances allowing for easy runtime differencing between components. 



Definition at line 112 of file Game\+Serializer.\+hpp.

\index{Game\+Serializer@{Game\+Serializer}!task\+\_\+pairs\+\_\+@{task\+\_\+pairs\+\_\+}}
\index{task\+\_\+pairs\+\_\+@{task\+\_\+pairs\+\_\+}!Game\+Serializer@{Game\+Serializer}}
\subsubsection[{\texorpdfstring{task\+\_\+pairs\+\_\+}{task_pairs_}}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$std\+::pair$<$tdt\+::uint, tdt\+::uint$>$ $>$ Game\+Serializer\+::task\+\_\+pairs\+\_\+\hspace{0.3cm}{\ttfamily [private]}}\hypertarget{class_game_serializer_a556001cdf90fde90c842100db0cda29a}{}\label{class_game_serializer_a556001cdf90fde90c842100db0cda29a}


Contains entity -\/ task pairs that should be added in the save\+\_\+tasks method. 



Definition at line 95 of file Game\+Serializer.\+hpp.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
tools/Game\+Serializer.\+hpp\item 
tools/Game\+Serializer.\+cpp\end{DoxyCompactItemize}
